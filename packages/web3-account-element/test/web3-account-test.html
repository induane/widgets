<html>
<head>
  <meta charset="utf-8">
  <script src="../node_modules/webcomponentsjs/full.js"></script>
  <script src="../node_modules/web-component-tester/browser.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
  <script src="../node_modules/@openrelay/element-test-utils/dist/bundle.js"></script>
  <script src="../dist/demo.js"></script>
</head>
<body>
  <or-web3 id="web3-fixture">Content <or-web3-account id="test-element"></or-web3-account></or-web3>
  <script>
    suite('<or-web3-acocunt>', function() {
      test('view-account', function(done) {
        var web3 = elementtestutils.getFakeWeb3();
        document.getElementById('web3-fixture').dispatchEvent(new CustomEvent('set-web3', {detail: {web3: web3}, bubbles: false, composed: false}));
        setTimeout(() => {
          assert.notEqual(document.getElementById('test-element').shadowRoot.innerHTML.indexOf("0xf00df00df00df00df00df00df00df00df00df00d"), -1);
          done();
        }, 100)
      });
    });
  </script>
</body>
</html>
